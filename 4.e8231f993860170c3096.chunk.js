webpackJsonp([4],{AwGu:function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("LMZF"),t=function(){},i=e("911F"),o=e("d+7b"),a=e("xzP1"),r=e("0nO6"),s=e("ulOE"),_=e("Lpd/"),d=e("j5BN"),c=e("SlD5"),g=e("V8+5"),h=e("sAya"),m=function(){function l(){}return l.prototype.ngOnInit=function(){this.control=this.form.controls[this.model.controlName]},l}(),p=u._1({encapsulation:0,styles:[[""]],data:{}});function f(l){return u._26(0,[(l()(),u._3(0,0,null,null,26,"div",[["class","textarea-field"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u._15(l,1).onSubmit(e)&&t),"reset"===n&&(t=!1!==u._15(l,1).onReset()&&t),t},null,null)),u._2(1,540672,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),u._20(2048,null,r.b,null,[r.h]),u._2(3,16384,null,0,r.m,[r.b],null,null),(l()(),u._24(-1,null,["\n    "])),(l()(),u._3(5,0,null,null,20,"mat-form-field",[["class","mat-input-container mat-form-field"]],[[2,"mat-input-invalid",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,s.b,s.a)),u._2(6,7389184,null,7,_.b,[u.k,u.h,[2,d.f]],null,null),u._22(335544320,1,{_control:0}),u._22(335544320,2,{_placeholderChild:0}),u._22(335544320,3,{_labelChild:0}),u._22(603979776,4,{_errorChildren:1}),u._22(603979776,5,{_hintChildren:1}),u._22(603979776,6,{_prefixChildren:1}),u._22(603979776,7,{_suffixChildren:1}),(l()(),u._24(-1,1,["\n        "])),(l()(),u._3(15,0,null,1,9,"textarea",[["class","mat-input-element mat-form-field-autofill-control mat-autosize"],["matAutosizeMaxRows","5"],["matAutosizeMinRows","1"],["matInput",""],["matTextareaAutosize",""],["rows","1"]],[[2,"mat-input-server",null],[1,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(l,n,e){var t=!0,i=l.component;return"input"===n&&(t=!1!==u._15(l,16)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u._15(l,16).onTouched()&&t),"compositionstart"===n&&(t=!1!==u._15(l,16)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u._15(l,16)._compositionEnd(e.target.value)&&t),"blur"===n&&(t=!1!==u._15(l,20)._focusChanged(!1)&&t),"focus"===n&&(t=!1!==u._15(l,20)._focusChanged(!0)&&t),"input"===n&&(t=!1!==u._15(l,20)._onInput()&&t),"ngModelChange"===n&&(t=!1!==(i.model.value=e)&&t),t},null,null)),u._2(16,16384,null,0,r.c,[u.B,u.k,[2,r.a]],null,null),u._20(1024,null,r.j,function(l){return[l]},[r.c]),u._2(18,671744,null,0,r.g,[[3,r.b],[8,null],[8,null],[2,r.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u._20(2048,null,r.k,null,[r.g]),u._2(20,933888,null,0,c.a,[u.k,g.a,[2,r.k],[2,r.n],[2,r.h],d.b,[8,null]],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),u._2(21,4603904,null,0,c.c,[u.k,g.a,u.x],{minRows:[0,"minRows"],maxRows:[1,"maxRows"]},null),u._2(22,16384,null,0,r.l,[r.k],null,null),u._20(2048,[[1,4]],_.c,null,[c.a]),(l()(),u._24(-1,null,["        "])),(l()(),u._24(-1,1,["\n    "])),(l()(),u._24(-1,null,["\n"])),(l()(),u._24(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,1,0,e.form),l(n,18,0,e.model.controlName,e.model.value),l(n,20,0,e.model.id,e.model.placeholder,e.model.type),l(n,21,0,"1","5")},function(l,n){l(n,0,0,u._15(n,3).ngClassUntouched,u._15(n,3).ngClassTouched,u._15(n,3).ngClassPristine,u._15(n,3).ngClassDirty,u._15(n,3).ngClassValid,u._15(n,3).ngClassInvalid,u._15(n,3).ngClassPending),l(n,5,1,[u._15(n,6)._control.errorState,u._15(n,6)._control.errorState,u._15(n,6)._canLabelFloat,u._15(n,6)._shouldLabelFloat(),u._15(n,6)._hideControlPlaceholder(),u._15(n,6)._control.disabled,u._15(n,6)._control.focused,u._15(n,6)._shouldForward("untouched"),u._15(n,6)._shouldForward("touched"),u._15(n,6)._shouldForward("pristine"),u._15(n,6)._shouldForward("dirty"),u._15(n,6)._shouldForward("valid"),u._15(n,6)._shouldForward("invalid"),u._15(n,6)._shouldForward("pending")]),l(n,15,1,[u._15(n,20)._isServer,u._15(n,20).id,u._15(n,20).placeholder,u._15(n,20).disabled,u._15(n,20).required,u._15(n,20).readonly,u._15(n,20)._ariaDescribedby||null,u._15(n,20).errorState,u._15(n,20).required.toString(),u._15(n,22).ngClassUntouched,u._15(n,22).ngClassTouched,u._15(n,22).ngClassPristine,u._15(n,22).ngClassDirty,u._15(n,22).ngClassValid,u._15(n,22).ngClassInvalid,u._15(n,22).ngClassPending])})}var v=e("Un6q"),b=e("OmxR"),T=e("eq3a"),y=e("n66f"),w=e("mejW"),C=e("CmPb"),x=(e("KynZ"),function(){function l(l,n){this.formBuilder=l,this.ref=n,this.emitEditHero=new u.m,this.emitTag=new u.m,this.emitRemoveNewTag=new u.m,this.heroTags=[],this.fieldType=C.a}return l.prototype.ngOnInit=function(){this.inputs=[new h.a("name","Name","name","text",this.fieldType.input,this.hero.name),new h.a("realName","Real name","realName","text",this.fieldType.input,this.hero.alterEgo),new h.a("synopsis","Synopsis","synopsis",null,this.fieldType.textarea,this.hero.synopsis)],this.formGroup=this.formBuilder.group({name:["",[r.p.required]],realName:["",[r.p.required]],synopsis:[""]}),this.initHeroTags(),this.ref.detectChanges()},l.prototype.initHeroTags=function(){for(var l=0;l<this.hero.tagIds.length;l++)for(var n=0;n<this.tags.length;n++)this.hero.tagIds[l]===this.tags[n].id&&this.heroTags.push(this.tags[n])},l.prototype.createNewTag=function(l){this.emitTag.emit(l)},l.prototype.addTagsForHero=function(l){this.heroTags=l},l.prototype.editHero=function(){var l={id:this.hero.id,avatar:this.hero.avatar,name:this.inputs[0].value,alterEgo:this.inputs[1].value,synopsis:this.inputs[2].value,likes:this.hero.likes,tagIds:this.heroTags?this.buildNewTagsIds():null};this.emitEditHero.emit(l)},l.prototype.removeNewTag=function(l){console.log("remove tag"),this.emitRemoveNewTag.emit(l)},l.prototype.buildNewTagsIds=function(){for(var l=[],n=0;n<this.heroTags.length;n++)l.push(this.heroTags[n].id);return l},l}()),I=u._1({encapsulation:0,styles:[[""]],data:{}});function N(l){return u._26(0,[(l()(),u._3(0,0,null,null,2,"app-input-field",[],null,null,null,o.b,o.a)),u._2(1,114688,null,0,a.a,[],{model:[0,"model"],form:[1,"form"]},null),(l()(),u._24(-1,null,["\n            "]))],function(l,n){l(n,1,0,n.parent.context.$implicit,n.component.formGroup)},null)}function H(l){return u._26(0,[(l()(),u._3(0,0,null,null,2,"app-textarea-field",[],null,null,null,f,p)),u._2(1,114688,null,0,m,[],{model:[0,"model"],form:[1,"form"]},null),(l()(),u._24(-1,null,["\n            "]))],function(l,n){l(n,1,0,n.parent.context.$implicit,n.component.formGroup)},null)}function S(l){return u._26(0,[(l()(),u._3(0,0,null,null,8,"div",[["class","create-hero__input"]],null,null,null,null,null)),u._2(1,16384,null,0,v.o,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),u._24(-1,null,["\n            "])),(l()(),u.Y(16777216,null,null,1,null,N)),u._2(4,278528,null,0,v.p,[u.M,u.J,v.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u._24(-1,null,["\n            "])),(l()(),u.Y(16777216,null,null,1,null,H)),u._2(7,278528,null,0,v.p,[u.M,u.J,v.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),u._24(-1,null,["\n        "]))],function(l,n){var e=n.component;l(n,1,0,n.context.$implicit.fieldType),l(n,4,0,e.fieldType.input),l(n,7,0,e.fieldType.textarea)},null)}function k(l){return u._26(0,[(l()(),u._3(0,0,null,null,2,"app-add-tag-hero",[["class","create-hero__filter-tags"]],null,[[null,"emitTags"],[null,"emitTag"],[null,"removeNewTag"]],function(l,n,e){var u=!0,t=l.component;return"emitTags"===n&&(u=!1!==t.addTagsForHero(e)&&u),"emitTag"===n&&(u=!1!==t.createNewTag(e)&&u),"removeNewTag"===n&&(u=!1!==t.removeNewTag(e)&&u),u},b.b,b.a)),u._2(1,114688,null,0,T.a,[],{allTags:[0,"allTags"],heroTags:[1,"heroTags"]},{emitTags:"emitTags",emitTag:"emitTag",removeNewTag:"removeNewTag"}),(l()(),u._24(-1,null,["\n            "]))],function(l,n){var e=n.component;l(n,1,0,e.tags,e.heroTags)},null)}function R(l){return u._26(0,[(l()(),u._3(0,0,null,null,1,"app-button",[],null,[[null,"emitClick"]],function(l,n,e){var u=!0;return"emitClick"===n&&(u=!1!==l.component.editHero()&&u),u},y.b,y.a)),u._2(1,114688,null,0,w.a,[],{text:[0,"text"],isDisabled:[1,"isDisabled"]},{emitClick:"emitClick"})],function(l,n){l(n,1,0,"Edit",!n.component.formGroup.valid)},null)}function F(l){return u._26(0,[(l()(),u._3(0,0,null,null,17,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u._15(l,2).onSubmit(e)&&t),"reset"===n&&(t=!1!==u._15(l,2).onReset()&&t),t},null,null)),u._2(1,16384,null,0,r.r,[],null,null),u._2(2,540672,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),u._20(2048,null,r.b,null,[r.h]),u._2(4,16384,null,0,r.m,[r.b],null,null),(l()(),u._24(-1,null,["\n        "])),(l()(),u.Y(16777216,null,null,1,null,S)),u._2(7,802816,null,0,v.k,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u._24(-1,null,["\n        "])),(l()(),u._3(9,0,null,null,4,"div",[["class","create-hero__tags"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n            "])),(l()(),u.Y(16777216,null,null,1,null,k)),u._2(12,16384,null,0,v.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u._24(-1,null,["\n        "])),(l()(),u._24(-1,null,["\n        "])),(l()(),u.Y(16777216,null,null,1,null,R)),u._2(16,16384,null,0,v.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u._24(-1,null,["\n    "]))],function(l,n){var e=n.component;l(n,2,0,e.formGroup),l(n,7,0,e.inputs),l(n,12,0,e.tags&&e.heroTags&&e.heroTags.length),l(n,16,0,e.formGroup)},function(l,n){l(n,0,0,u._15(n,4).ngClassUntouched,u._15(n,4).ngClassTouched,u._15(n,4).ngClassPristine,u._15(n,4).ngClassDirty,u._15(n,4).ngClassValid,u._15(n,4).ngClassInvalid,u._15(n,4).ngClassPending)})}function j(l){return u._26(0,[(l()(),u._3(0,0,null,null,4,"div",[["class","create-hero"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n    "])),(l()(),u.Y(16777216,null,null,1,null,F)),u._2(3,16384,null,0,v.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u._24(-1,null,["\n"]))],function(l,n){l(n,3,0,n.component.inputs)},null)}var E=e("jnzx"),M=e("1aQG"),q=e("UHIZ"),D=function(){function l(l,n,e,u){var t=this;this.route=l,this.router=n,this.heroesService=e,this.tagsService=u,this.subs=[],this.fieldType=C.a,this.subs.push(this.route.params.subscribe(function(l){t.heroId=+l.id}))}return l.prototype.ngOnInit=function(){this.getHero(),this.loadTags()},l.prototype.ngOnDestroy=function(){this.subs.forEach(function(l){return l.unsubscribe()})},l.prototype.getHero=function(){var l=this;this.subs.push(this.heroesService.loadHeroes().subscribe(function(n){n&&l.heroId&&(l.hero=n.filter(function(n){return n.id===l.heroId})[0],l.hero||l.router.navigate(["404"]))}))},l.prototype.loadTags=function(){var l=this;this.subs.push(this.tagsService.loadTags().subscribe(function(n){l.tags=n}))},l.prototype.editHero=function(l){var n=this;console.log(l),this.subs.push(this.heroesService.editHero(l).subscribe(function(l){n.router.navigate(["hero",n.heroId])}))},l.prototype.addNewTag=function(l){console.log(l),this.subs.push(this.tagsService.addTag(l).subscribe())},l.prototype.removeNewTag=function(l){console.log(l),this.subs.push(this.tagsService.deleteTag(l).subscribe())},l}(),O=u._1({encapsulation:0,styles:[[""]],data:{}});function P(l){return u._26(0,[(l()(),u._3(0,0,null,null,8,"div",[["class","edit-hero__container"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n                    "])),(l()(),u._3(2,0,null,null,1,"h3",[["class","edit-hero__title title title_center"]],null,null,null,null,null)),(l()(),u._24(3,null,["Edit Hero - ",""])),(l()(),u._24(-1,null,["\n                    "])),(l()(),u._3(5,0,null,null,2,"app-edit-hero",[],null,[[null,"emitEditHero"],[null,"emitTag"],[null,"emitRemoveNewTag"]],function(l,n,e){var u=!0,t=l.component;return"emitEditHero"===n&&(u=!1!==t.editHero(e)&&u),"emitTag"===n&&(u=!1!==t.addNewTag(e)&&u),"emitRemoveNewTag"===n&&(u=!1!==t.removeNewTag(e)&&u),u},j,I)),u._2(6,114688,null,0,x,[r.d,u.h],{hero:[0,"hero"],tags:[1,"tags"]},{emitEditHero:"emitEditHero",emitTag:"emitTag",emitRemoveNewTag:"emitRemoveNewTag"}),(l()(),u._24(-1,null,["\n                    "])),(l()(),u._24(-1,null,["\n                "]))],function(l,n){var e=n.component;l(n,6,0,e.hero,e.tags)},function(l,n){l(n,3,0,n.component.hero.name)})}function Y(l){return u._26(0,[(l()(),u._3(0,0,null,null,17,"div",[["class","edit-hero"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n    "])),(l()(),u._3(2,0,null,null,14,"div",[["class","grid"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n        "])),(l()(),u._3(4,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n            "])),(l()(),u._3(6,0,null,null,0,"div",[["class","col col-1"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n            "])),(l()(),u._3(8,0,null,null,4,"div",[["class","col col-10"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n                "])),(l()(),u.Y(16777216,null,null,1,null,P)),u._2(11,16384,null,0,v.l,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u._24(-1,null,["\n            "])),(l()(),u._24(-1,null,["\n            "])),(l()(),u._3(14,0,null,null,0,"div",[["class","col col-1"]],null,null,null,null,null)),(l()(),u._24(-1,null,["\n        "])),(l()(),u._24(-1,null,["\n    "])),(l()(),u._24(-1,null,["\n"])),(l()(),u._24(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,11,0,e.hero&&e.tags)},null)}var G=u.Z("app-edit-hero-page",D,function(l){return u._26(0,[(l()(),u._3(0,0,null,null,1,"app-edit-hero-page",[],null,null,null,Y,O)),u._2(1,245760,null,0,D,[q.a,q.k,M.a,E.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),J=e("l6RC"),z=e("8Xfy"),A=e("vgc3"),B=e("9iV4"),U=e("RyBE"),V=e("4jwp"),Z=e("OFGE"),L=e("3Czw"),$=e("jk5D"),W=e("1ini"),X=e("YXpL"),K=e("Ioj9"),Q=e("ghl+"),ll=e("CZgk"),nl=e("ki1d"),el=e("dYU3"),ul=e("ZYB1"),tl=e("VguH"),il=e("T2Au"),ol=function(){};e.d(n,"EditHeroPageModuleNgFactory",function(){return al});var al=u._0(t,[],function(l){return u._11([u._12(512,u.j,u.W,[[8,[i.a,G]],[3,u.j],u.v]),u._12(4608,v.n,v.m,[u.s,[2,v.t]]),u._12(6144,J.b,null,[v.d]),u._12(4608,J.c,J.c,[[2,J.b]]),u._12(4608,g.a,g.a,[]),u._12(4608,z.i,z.i,[g.a]),u._12(4608,z.h,z.h,[z.i,u.x,v.d]),u._12(136192,z.d,z.b,[[3,z.d],v.d]),u._12(5120,z.l,z.k,[[3,z.l],[2,z.j],v.d]),u._12(5120,z.g,z.e,[[3,z.g],u.x,g.a]),u._12(5120,A.d,A.a,[[3,A.d],[2,B.c],U.c,[2,v.d]]),u._12(5120,V.c,V.a,[[3,V.c],u.x,g.a]),u._12(5120,V.f,V.e,[[3,V.f],g.a,u.x]),u._12(4608,Z.g,Z.g,[V.c,V.f,u.x,v.d]),u._12(5120,Z.c,Z.h,[[3,Z.c],v.d]),u._12(4608,Z.f,Z.f,[V.f,v.d]),u._12(5120,Z.d,Z.k,[[3,Z.d],v.d]),u._12(4608,Z.a,Z.a,[Z.g,Z.c,u.j,Z.f,Z.d,u.g,u.p,u.x,v.d]),u._12(5120,Z.i,Z.j,[Z.a]),u._12(4608,L.d,L.d,[g.a]),u._12(135680,L.a,L.a,[L.d,u.x]),u._12(5120,$.b,$.c,[Z.a]),u._12(5120,W.b,W.c,[Z.a]),u._12(4608,d.b,d.b,[]),u._12(4608,r.s,r.s,[]),u._12(4608,r.d,r.d,[]),u._12(512,v.c,v.c,[]),u._12(512,J.a,J.a,[]),u._12(256,d.c,!0,[]),u._12(512,d.j,d.j,[[2,d.c]]),u._12(512,g.b,g.b,[]),u._12(512,X.b,X.b,[]),u._12(512,K.g,K.g,[]),u._12(512,d.u,d.u,[]),u._12(512,z.a,z.a,[]),u._12(512,Q.c,Q.c,[]),u._12(512,A.c,A.c,[]),u._12(512,ll.c,ll.c,[]),u._12(512,V.b,V.b,[]),u._12(512,Z.e,Z.e,[]),u._12(512,L.c,L.c,[]),u._12(512,$.e,$.e,[]),u._12(512,d.s,d.s,[]),u._12(512,d.q,d.q,[]),u._12(512,W.e,W.e,[]),u._12(512,_.d,_.d,[]),u._12(512,c.b,c.b,[]),u._12(512,d.l,d.l,[]),u._12(512,nl.a,nl.a,[]),u._12(512,el.d,el.d,[]),u._12(512,ul.e,ul.e,[]),u._12(512,tl.a,tl.a,[]),u._12(512,r.q,r.q,[]),u._12(512,r.i,r.i,[]),u._12(512,r.o,r.o,[]),u._12(512,q.n,q.n,[[2,q.s],[2,q.k]]),u._12(512,il.a,il.a,[]),u._12(512,ol,ol,[]),u._12(512,t,t,[]),u._12(256,$.a,{showDelay:0,hideDelay:0,touchendHideDelay:1500},[]),u._12(1024,q.i,function(){return[[{path:"",component:D}]]},[])])})}});